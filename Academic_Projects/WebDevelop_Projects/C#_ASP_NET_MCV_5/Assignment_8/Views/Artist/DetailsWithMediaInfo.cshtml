@model Assignment_8.Controllers.ArtistWithMediaItemStringIds

@{
    ViewBag.Title = "DetailsWithMediaInfo";
}

<h2>Detailed information for @Html.DisplayFor(model => model.Name) </h2>

<div>
    <h4>Detailed information</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.Name)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Name)
        </dd>
        <hr />
        <dt>
            @Html.DisplayNameFor(model => model.BirthName)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.BirthName)
        </dd>
        <hr />
        <dt>
            @Html.DisplayNameFor(model => model.BirthOrStartDate)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.BirthOrStartDate)
        </dd>
        <hr />

        <dt>
            @Html.DisplayNameFor(model => model.UrlArtist)
        </dt>

        <dd>
            <img src="@Html.DisplayFor(model => model.UrlArtist)" alt="" height="150" />
        </dd>

        <hr />

        <dt>
            @Html.DisplayNameFor(model => model.Profile)
        </dt>

        <dd>
            <div class="panel panel-default panel-body">
                @Html.Raw(Model.Profile)
            </div>
        </dd>
        <hr />

        <dt>
            @Html.DisplayNameFor(model => model.Genre)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Genre)
        </dd>

        <hr />

        <dt>
            Photos
        </dt>
        <dd>
            @if (Model.MediaItems.Count() == 0)
            {
                <span>(none)</span>
            }
            else {
                foreach (var item in Model.MediaItems.Where(m => m.ContentType.Contains("image/")))
                {<br />

                    if (@item.StringId != null)
                    {
                        <span>@item.Caption</span><br />
                        <img src="~/media/@item.StringId " alt="@item.Caption" title="@item.Caption" width="200">
                        <br />
                    }
                }
            }

        </dd>
        <hr />

        <dt>
            Audio
        </dt>

        <dd>
           @if (Model.MediaItems.Count() == 0)
            {
            <span>(none)</span>
           }
           else {
               foreach (var item in Model.MediaItems.Where(m => m.ContentType.Contains("audio/")))
               {<br />
            <span>@item.Caption</span><br />
            <audio src="~/media/@item.StringId" controls="controls"></audio>
                <br />
                    
               }
           }
        </dd>

    </dl>
</div>
<p>
    @Html.ActionLink("Edit", "Edit", new { id = Model.Id }) |
    @Html.ActionLink("Back to List", "Index")
</p>
